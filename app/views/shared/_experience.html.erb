<div class="experience-card">
  <%= link_to (experience.user === current_user ? dashboard_path : user_path(experience.user)), class: "text-decoration-none text-primary experience-header" do %>
    <div>
      <%= image_tag "default_pfp.jpg", class: "avatar-bordered", crop: :fill %>
    </div>
    <div class="profile-details">
      <div class="card-user-name"><%= experience.user.first_name %> <%= experience.user.last_name %></div>
      <div><%= experience.spot.location %></div>
    </div>
    <% unless (params[:action] === 'show' && params[:controller] === 'users') || current_page?(dashboard_path) || experience.user === current_user %>
      <object>
        <%= link_to set_follow_user_path(experience.user), data: {turbo_method: :post, controller:"follow", action: "click->follow#quickToggle"}, class:"follow" do %>
          <% if current_user.follows.find_by( second_user: experience.user ) %>
            <i class="fa-solid fa-user-minus"></i>
          <% else %>
            <i class="fa-solid fa-user-plus"></i>
          <% end %>
        <% end %>
      </object>
    <% end %>
  <% end %>
  <div class="image-container">
    <% if experience.photos.attached? %>
      <%= cl_image_tag experience.photos.first.key %>
    <% else %>
      <%= image_tag "default_photo.png", alt:"Default Image" %>
    <% end %>
  </div>
  <div class="card-body">
    <div class="experience-actions">
      <i class="fa-regular fa-heart"></i>
      <i class="fa-solid fa-comment"></i>
    </div>
    <i>"<%= experience.content %>"</i>
    <div class="opacity-75"><%= time_ago_in_words(experience.created_at).capitalize %> ago</div>
  </div>
</div>
